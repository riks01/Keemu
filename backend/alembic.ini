# Alembic Configuration File
#
# What is Alembic?
# ----------------
# Alembic is a database migration tool for SQLAlchemy.
# Think of it as "Git for your database schema".
#
# What are migrations?
# --------------------
# Migrations are version-controlled changes to your database schema:
# - Adding/removing tables
# - Adding/removing columns
# - Changing column types
# - Creating indexes
# - Etc.
#
# Why use migrations?
# -------------------
# 1. Track schema changes over time
# 2. Apply changes safely (test â†’ production)
# 3. Rollback if something goes wrong
# 4. Share schema changes with team
# 5. Keep database in sync with code
#
# Common Commands:
# ----------------
# alembic revision --autogenerate -m "add users table"  # Create migration
# alembic upgrade head                                  # Apply migrations
# alembic downgrade -1                                  # Undo last migration
# alembic history                                       # Show migration history
# alembic current                                       # Show current version

[alembic]
# Path to migration scripts
script_location = alembic

# Template used to generate migration files
file_template = %%(year)d-%%(month).2d-%%(day).2d_%%(hour).2d%%(minute).2d-%%(rev)s_%%(slug)s

# Timezone for timestamps
timezone = UTC

# SQLAlchemy URL - loaded from environment via env.py
# We don't set it here because it contains sensitive credentials
# Instead, we read it from .env in alembic/env.py
# sqlalchemy.url = postgresql://user:pass@localhost/dbname

# Logging configuration
[loggers]
keys = root,sqlalchemy,alembic

[handlers]
keys = console

[formatters]
keys = generic

[logger_root]
level = WARN
handlers = console
qualname =

[logger_sqlalchemy]
level = WARN
handlers =
qualname = sqlalchemy.engine

[logger_alembic]
level = INFO
handlers =
qualname = alembic

[handler_console]
class = StreamHandler
args = (sys.stderr,)
level = NOTSET
formatter = generic

[formatter_generic]
format = %(levelname)-5.5s [%(name)s] %(message)s
datefmt = %H:%M:%S

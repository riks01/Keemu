# ================================
# Application Configuration
# ================================
APP_NAME=KeeMU
APP_ENV=development
DEBUG=true
SECRET_KEY=your-secret-key-generate-random-string

# API Configuration
API_V1_PREFIX=/api/v1
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8000

# ================================
# Database Configuration
# ================================
# IMPORTANT: Must use postgresql+asyncpg:// for async operations
DATABASE_URL=postgresql+asyncpg://keemu_user:keemu_password@postgres:5432/keemu_db
DB_ECHO=false
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10

# ================================
# Redis Configuration
# ================================
REDIS_URL=redis://redis:6379/0

# ================================
# Google OAuth
# ================================
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=http://localhost:8000/api/v1/auth/google/callback

# ================================
# YouTube API
# ================================
YOUTUBE_API_KEY=your-youtube-api-key

# ================================
# Reddit API
# ================================
REDDIT_CLIENT_ID=your-reddit-client-id
REDDIT_CLIENT_SECRET=your-reddit-client-secret
REDDIT_USER_AGENT=your-reddit-user-agent

# ================================
# AI Service Configuration
# ================================

# Anthropic Claude
ANTHROPIC_API_KEY=your-anthropic-api-key
ANTHROPIC_MODEL=claude-3-5-haiku-20241022
ANTHROPIC_MAX_TOKENS=4096

# Google Gemini (backup/optional)
GEMINI_API_KEY=your-gemini-api-key

# OpenAI (for Whisper transcription fallback)
OPENAI_API_KEY=your-openai-api-key

# ================================
# Embedding Configuration
# ================================
EMBEDDING_MODEL=google/embeddinggemma-300m
EMBEDDING_DIMENSION=768
EMBEDDING_BATCH_SIZE=32
EMBEDDING_DEVICE=cpu  # or 'cuda' if GPU available

# ================================
# Vector Database Configuration
# ================================
VECTOR_DB_TYPE=pgvector  # Options: 'pgvector' or 'pinecone'

# Pinecone (optional)
PINECONE_API_KEY=your-pinecone-api-key
PINECONE_ENVIRONMENT=us-west1-gcp
PINECONE_INDEX_NAME=keemu-embeddings

# ================================
# Email Configuration
# ================================
SENDGRID_API_KEY=your-sendgrid-api-key
SENDGRID_FROM_EMAIL=your-email@example.com
SENDGRID_FROM_NAME=KeeMU

# ================================
# JWT Configuration
# ================================
JWT_SECRET_KEY=your-jwt-secret-key
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=10080  # 7 days
JWT_REFRESH_TOKEN_EXPIRE_MINUTES=43200  # 30 days

# ================================
# Content Collection Configuration
# ================================
YOUTUBE_CHECK_INTERVAL_HOURS=6
REDDIT_CHECK_INTERVAL_HOURS=1
BLOG_CHECK_INTERVAL_HOURS=12
MAX_CONTENT_AGE_DAYS=90

# ================================
# Processing Configuration
# ================================
USE_LOCAL_WHISPER=false  # true = local Whisper, false = OpenAI API
CHUNK_SIZE_TOKENS=800
CHUNK_OVERLAP_TOKENS=100
MAX_CHUNKS_PER_CONTENT=50

# ================================
# RAG Configuration
# ================================
RAG_TOP_K_RETRIEVAL=15
RAG_TOP_K_RERANK=5
RAG_MAX_CONTEXT_TOKENS=3000

# ================================
# Summary Configuration
# ================================
SUMMARY_SOURCE_MAX_WORDS=300
SUMMARY_OVERALL_MAX_WORDS=800

# ================================
# Rate Limiting
# ================================
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_BURST=10

# ================================
# Celery Configuration
# ================================
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
CELERY_TIMEZONE=UTC
CELERY_ENABLE_UTC=true

# ================================
# Logging Configuration
# ================================
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json  # json or text

# ================================
# Monitoring (optional)
# ================================
SENTRY_DSN=your-sentry-dsn  # Optional, for error tracking

# ================================
# Feature Flags
# ================================
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_COST_TRACKING=true
ENABLE_ANALYTICS=true
